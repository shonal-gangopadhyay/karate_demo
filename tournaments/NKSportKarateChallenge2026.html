<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NK Sport Karate Challenge — Karate Parent Portal</title>
    <meta name="description" content="NK Sport Karate Challenge" />

    <style>
        /* ===== THEME ===== */
        :root {
            --bg: #0f172a;
            --bg-soft: #111827;
            --panel: #1f2937;
            --muted: #9ca3af;
            --text: #e5e7eb;
            --text-strong: #f9fafb;
            --accent: #ef4444;
            --accent-2: #22d3ee;
            --radius: 16px;
            --shadow: 0 10px 30px rgba(0, 0, 0, .35);
            --maxw: 1100px;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
        }

        /* Bigger, fluid, readable base size on mobile (never below ~17px) */
        body {
            margin: 0;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial;
            font-size: clamp(17px, 2.2vw, 18px);
            line-height: 1.65;
            background:
                radial-gradient(1200px 800px at 100% -10%, rgba(34, 211, 238, .06), transparent 40%),
                radial-gradient(1200px 800px at -10% 110%, rgba(239, 68, 68, .06), transparent 40%),
                var(--bg);
            color: var(--text);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        a {
            color: var(--accent-2);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .wrap {
            max-width: var(--maxw);
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header.site {
            position: sticky;
            top: 0;
            z-index: 40;
            background: rgba(15, 23, 42, .85);
            backdrop-filter: blur(6px);
            border-bottom: 1px solid rgba(255, 255, 255, .06);
        }

        .topbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 14px 20px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: conic-gradient(from 210deg, var(--accent), var(--accent-2));
            box-shadow: 0 4px 18px rgba(34, 211, 238, .25);
        }

        .brand h1 {
            margin: 0;
            /* scale a bit bigger on small screens for legibility */
            font-size: clamp(1.1rem, 4.5vw, 1.25rem);
            letter-spacing: .25px;
            color: var(--text-strong);
            text-wrap: balance;
        }

        .brand small {
            display: block;
            color: var(--muted);
            font-size: clamp(.9rem, 3.4vw, 1rem);
            margin-top: 2px;
        }

        nav a {
            padding: 10px 14px;
            border-radius: 10px;
        }

        nav a:hover {
            background: rgba(255, 255, 255, .06);
            text-decoration: none;
        }

        /* Hero */
        .hero {
            margin-top: 18px;
            background: linear-gradient(180deg, rgba(255, 255, 255, .04), transparent);
            border: 1px solid rgba(255, 255, 255, .06);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .hero-inner {
            padding: 22px 20px;
        }

        .hero h2 {
            margin: 0 0 8px;
            /* fluid, larger on phones */
            font-size: clamp(1.35rem, 6vw, 1.8rem);
            color: var(--text-strong);
            text-wrap: balance;
        }

        .meta {
            color: var(--muted);
            font-size: clamp(1rem, 3.2vw, 1.05rem);
        }

        /* ===== Cards: ONE-COLUMN + SHORT HEIGHT ===== */
        .cards {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 18px;
        }

        .card {
            width: 100%;
            background: var(--panel);
            border: 1px solid rgba(255, 255, 255, .08);
            border-radius: var(--radius);
            box-shadow: var(--shadow);

            /* short + consistent layout */
            display: flex;
            align-items: center;
            min-height: 60px;
            /* slightly taller for readability */
            padding: 12px 16px;
            /* bigger touch-friendly padding */
        }

        .card h3,
        .card h4,
        .card p {
            margin: 0;
        }

        .card h3 {
            /* bump title size a bit */
            font-size: clamp(1.1rem, 4.2vw, 1.2rem);
            color: var(--text-strong);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            /* easier to tap */
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, .08);
            background: linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, .02));
            color: var(--text-strong);
            font-weight: 600;
            letter-spacing: .25px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, .35);
            text-decoration: none;
            line-height: 1;
            /* keep buttons compact */
        }

        .btn.accent {
            background: linear-gradient(180deg, rgba(239, 68, 68, .25), rgba(239, 68, 68, .14));
            border-color: rgba(239, 68, 68, .35);
        }

        .list {
            margin: 0;
            padding-left: 18px;
        }

        .muted {
            color: var(--muted);
        }

        /* ===== Schedule table: keep text readable; allow horizontal scroll on mobile */
        table.schedule {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            overflow: hidden;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, .08);
            font-size: clamp(1rem, 3.2vw, 1.05rem);
            /* readable cells */
        }

        .schedule th,
        .schedule td {
            padding: 12px 14px;
            text-align: left;
        }

        .schedule thead {
            background: rgba(255, 255, 255, .05);
        }

        .schedule tbody tr:nth-child(odd) {
            background: rgba(255, 255, 255, .03);
        }

        /* Let the table scroll on narrow screens instead of shrinking text */
        @media (max-width: 640px) {
            table.schedule {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
        }

        /* Sticky mobile belt bar */
        .mobile-toc {
            position: fixed;
            left: 10px;
            right: 10px;
            bottom: 10px;
            z-index: 50;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            padding: 8px 10px;
            border-radius: 999px;
            background: rgba(31, 41, 55, .9);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, .08);
        }

        .mobile-toc a {
            font-size: clamp(1rem, 3.6vw, 1.05rem);
            padding: 10px 14px;
            /* bigger tap area */
            border-radius: 999px;
            background: rgba(255, 255, 255, .06);
            border: 1px solid rgba(255, 255, 255, .08);
        }

        /* Optional: scale up nav on the smallest screens for easier tapping */
        @media (max-width: 400px) {
            nav a {
                padding: 12px 14px;
            }
        }

        .info-image-wrapper {
            width: 100%;
            display: flex;
            justify-content: center;
            margin: 1.5rem 0;
        }

        .info-image {
            width: 100%;
            max-width: 800px;
            /* prevents it from getting too big */
            height: auto;
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        /* =========================
           TOC (Desktop + Mobile)
           ========================= */

        /* Desktop layout: TOC left, content right */
        @media (min-width: 1100px) {
            .page-grid {
                display: grid;
                grid-template-columns: 260px 1fr;
                gap: 18px;
                margin-top: 18px;
            }

            .toc {
                position: sticky;
                top: 84px;
                /* sticky header offset */
                align-self: start;
                background: rgba(31, 41, 55, .6);
                border: 1px solid rgba(255, 255, 255, .08);
                border-radius: 14px;
                padding: 10px;
                max-height: calc(100vh - 120px);
                overflow: auto;
            }

            .toc h4 {
                margin: 6px 8px 8px;
                font-size: .9rem;
                color: var(--muted);
                font-weight: 600;
                letter-spacing: .3px;
            }

            .toc a {
                display: block;
                padding: 8px 10px;
                border-radius: 10px;
                color: var(--text);
                text-decoration: none;
                border: 1px solid transparent;
            }

            .toc a:hover {
                background: rgba(255, 255, 255, .06);
            }

            .toc a.active {
                background: linear-gradient(180deg, rgba(34, 211, 238, .16), rgba(34, 211, 238, .08));
                border-color: rgba(34, 211, 238, .25);
                color: var(--text-strong);
            }
        }

        /* Hide desktop TOC on mobile */
        @media (max-width: 1099px) {
            .toc {
                display: none !important;
            }
        }

        /* Hide mobile belt on desktop */
        @media (min-width: 1100px) {
            .mobile-toc {
                display: none;
            }
        }
    </style>

</head>

<body>
    <header class="site">
        <div class="topbar wrap">
            <div class="brand">
                <div class="logo" aria-hidden="true"></div>
                <div>
                    <h1>Karate Parent Portal</h1>
                    <small>NK Sport Karate Challenge</small>
                </div>
            </div>
            <nav>
                <a href="https://shonal-gangopadhyay.github.io/karate_demo/index.html">← Main Page</a>
            </nav>
        </div>
    </header>

    <main id="content" class="wrap">
        <!-- Intro / hero -->
        <section class="hero">
            <div class="hero-inner">
                <h2>NK Sport Karate Challenge</h2>
            </div>
        </section>

        <!-- Desktop TOC + content -->
        <div class="page-grid">
            <aside class="toc" id="toc" aria-labelledby="toc-title">
                <h4 id="toc-title">On this page</h4>
                <!-- links injected by JS -->
            </aside>

            <div>
                <!-- One-column, short cards -->
                <section class="cards">
                    <!-- Welcome-->
                    <article>
                        <p>This year's Sport Karate Challenge (aka team tournament) is coming up! Get out there and
                            represent
                            your NK school!</p>
                    </article>

                    <!-- Title Image -->
                    <article>
                        <div class="info-image-wrapper">
                            <img src="..\assets\img\tournaments\team2026\title.jpg" alt="NK Sport Karate Challenge"
                                class="info-image">
                        </div>
                    </article>

                    <!-- Registration -->
                    <article class="card">
                        <h3>Registration</h3>
                    </article>
                    <article>
                        <p><a href="https://www.mataction.com/SportKarateChallenge" target="_blank"
                                rel="noopener noreferrer">Registration</a> - ask your school Director for assistance
                            if needed</p>
                    </article>

                    <!-- Judging and Volunteering-->
                    <article class="card">
                        <h3>Judging and Volunteering</h3>
                    </article>
                    <article>
                        <p>Black belts and parent volunteers: please talk to your school owner/director for more
                            information about judging and/or volunteering at the tournament!</p>
                    </article>

                    <!-- TShirts-->
                    <article class="card">
                        <h3>Team T-shirts</h3>
                    </article>
                    <article>
                        <p>Each year, there is a new tshirt that is released with each team tournament. Each school has
                            their
                            own color for that year's design. When I was director at Edina, I always tried to get
                            purple+black
                            for my students.</p>
                    </article>
                    <article>
                        <p><strong>Important:</strong> some schools only allow that year's team tournament
                            tshirt as an acceptable tshirt to wear in summer and sparring classes.</p>
                    </article>
                    <article>
                        <p>Talk to your school owner/director to (pre-)order a shirt! (I'm going to try to get three
                            colors this
                            year: Apple Valley, Eden Prairie, and Maple Grove.)</p>
                    </article>

                    <!-- Layout and Ring Assignments -->
                    <article class="card">
                        <h3>Layout and Ring Assignments</h3>
                    </article>
                    <article>
                        <div class="info-image-wrapper">
                            <img src="..\assets\img\tournaments\team2026\layout.jpg" alt="layout" class="info-image">
                        </div>
                    </article>
                    <article>
                        <div class="info-image-wrapper">
                            <img src="..\assets\img\tournaments\team2026\ringassignments.jpg" alt="ring assignments"
                                class="info-image">
                        </div>
                    </article>

                    <!-- Basics -->
                    <article class="card">
                        <h3>Basics Divisions</h3>
                    </article>
                    <article>
                        <p>Students who are in the little masters program (4-6 year olds) do not usually have a form
                            that they
                            can compete with. Instead, they may compete with the regular moves that they practice in
                            class!
                            Students whose rank range from white to red with brown stripe may also compete in the basics
                            division.</p>
                    </article>

                    <article>
                        <ul class="list"> Judges consider:
                            <li>Clean, deep stances and correct technique</li>
                            <li>Consistent speed</li>
                            <li>Power</li>
                            <li>Loud, controlled yells</li>
                            <li>Focused eyes and strong intent</li>
                        </ul>
                    </article>

                    <article>
                        <p>I included a copy of the basics below for your convenience and practice.</p>
                    </article>

                    <article>
                        <div class="info-image-wrapper">
                            <img src="..\assets\img\tournaments\team2026\basics.jpg" alt="Little Masters basics"
                                class="info-image">
                        </div>
                    </article>

                    <!-- Traditional Weapons and Form -->
                    <article class="card">
                        <h3>Forms Divisions</h3>
                    </article>
                    <article>
                        <p>Students may compete in both traditional weapons as well as traditional forms. Some students
                            do not
                            have a weapons form yet, while some students have multiple forms of both types. I recommend
                            sticking
                            to your best empty hand form and your best weapons form. For example, a newly promoted first
                            degree
                            black belt might still do Zang Do Moon if they haven't completed learning Him Hyung. Another
                            example
                            could be where a blue belt competes with both Shee Hyung Bo as well as Shin Jin Hyung.</p>
                    </article>
                    <article>
                        <p>I will be competing in both traditional empty hand and traditional weapons. I will be doing
                            Kwang Gae
                            for empty hand. I made a bo form which I will be competing with.</p>
                    </article>
                    <article>
                        <ul class="list"> Judges consider:
                            <li>Clean, deep stances and correct technique</li>
                            <li>Consistent speed</li>
                            <li>Power</li>
                            <li>Loud, controlled yells</li>
                            <li>Focused eyes and strong intent</li>
                        </ul>
                    </article>

                    <!-- Sparring -->
                    <article class="card">
                        <h3>Sparring Divisions</h3>
                    </article>
                    <article>
                        <p>Students may compete in sparring where they will spar other students their age, gender, and
                            rank. See
                            FAQ section below for details.</p>
                    </article>

                    <!-- FAQ -->
                    <article class="card">
                        <h3>FAQ</h3>
                    </article>
                    <article>
                        <div class="info-image-wrapper">
                            <img src="..\assets\img\tournaments\team2026\faq.jpg" alt="FAQ" class="info-image">
                        </div>
                    </article>

                </section>

                <footer class="muted" style="margin:40px 0 18px;">
                    <span id="year"></span> NK Sport Karate Challenge • Karate Parent Portal
                </footer>
            </div>
        </div>

        <!-- Mobile TOC belt -->
        <nav class="mobile-toc" id="mobileToc" aria-label="Quick navigation"></nav>
    </main>

    <script>
        // Footer year
        document.getElementById('year').textContent = new Date().getFullYear();

        // ---- Helpers ----
        function slugify(str) {
            return (str || '')
                .toLowerCase()
                .trim()
                .replace(/&/g, ' and ')
                .replace(/[^a-z0-9]+/g, '-')
                .replace(/(^-|-$)/g, '');
        }

        // ---- Build sections list from article.card ----
        const cards = Array.from(document.querySelectorAll('article.card'));

        const sections = cards.map((card, idx) => {
            const heading = card.querySelector('h2, h3, h4');
            const label = heading ? heading.textContent.trim() : `Section ${idx + 1}`;

            // Ensure card has an id (so we can link to it)
            if (!card.id) {
                const base = slugify(label) || `section-${idx + 1}`;
                let id = base;
                let n = 2;
                while (document.getElementById(id)) {
                    id = `${base}-${n++}`;
                }
                card.id = id;
            }

            // Make jumping feel nice with a sticky header
            card.style.scrollMarginTop = '84px';

            return { id: card.id, label };
        });

        // ---- Inject TOC links ----
        const toc = document.getElementById('toc');
        const mobileToc = document.getElementById('mobileToc');

        function buildToc(container) {
            if (!container) return;

            // Keep existing heading if this is the desktop toc
            const existingHeading = container.querySelector('h4');
            container.innerHTML = '';
            if (existingHeading) container.appendChild(existingHeading);

            const frag = document.createDocumentFragment();
            sections.forEach(({ id, label }) => {
                const a = document.createElement('a');
                a.href = `#${id}`;
                a.textContent = label;
                frag.appendChild(a);
            });

            container.appendChild(frag);
        }

        buildToc(toc);
        buildToc(mobileToc);

        const tocLinks = toc ? Array.from(toc.querySelectorAll('a[href^="#"]')) : [];
        const mobileLinks = mobileToc ? Array.from(mobileToc.querySelectorAll('a[href^="#"]')) : [];

        // ---- Smooth scroll (no weird jump) ----
        function smoothScrollToId(id) {
            const el = document.getElementById(id);
            if (!el) return;

            const headerOffset = 84;
            const top = el.getBoundingClientRect().top + window.scrollY - headerOffset;
            window.scrollTo({ top, behavior: 'smooth' });
        }

        function setActive(id) {
            [...tocLinks, ...mobileLinks].forEach(a => a.classList.remove('active'));
            tocLinks.find(a => a.getAttribute('href') === `#${id}`)?.classList.add('active');
            mobileLinks.find(a => a.getAttribute('href') === `#${id}`)?.classList.add('active');
        }

        function enableSmooth(container) {
            if (!container) return;
            container.addEventListener('click', (e) => {
                const a = e.target.closest('a[href^="#"]');
                if (!a) return;
                const id = a.getAttribute('href').slice(1);
                e.preventDefault();
                setActive(id);
                smoothScrollToId(id);
                history.replaceState(null, '', `#${id}`);
            });
        }

        enableSmooth(toc);
        enableSmooth(mobileToc);

        // ---- Scrollspy: highlight current section ----
        const sectionEls = sections.map(s => document.getElementById(s.id)).filter(Boolean);

        let ticking = false;
        function updateActiveByScroll() {
            if (ticking) return;
            ticking = true;

            requestAnimationFrame(() => {
                const headerOffset = 84;
                const refY = window.scrollY + headerOffset + 1;

                let currentId = sectionEls[0]?.id;
                for (const el of sectionEls) {
                    if (el.offsetTop <= refY) currentId = el.id;
                    else break;
                }

                if (currentId) setActive(currentId);
                ticking = false;
            });
        }

        updateActiveByScroll();
        window.addEventListener('scroll', updateActiveByScroll, { passive: true });
        window.addEventListener('resize', updateActiveByScroll);

        // If user loads page with a hash, smooth-scroll to it
        if (location.hash) {
            const id = decodeURIComponent(location.hash).slice(1);
            setTimeout(() => {
                setActive(id);
                smoothScrollToId(id);
            }, 0);
        }
    </script>
</body>

</html>